
<!DOCTYPE html>
<html lang="en">
<head> 
	<!-- Leaflet JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/hosuaby/Leaflet.SmoothMarkerBouncing@v3.0.3/dist/bundle.js" crossorigin="anonymous"></script>
</head>
<body>   
            <div id='map' style='width: auto; height: 500px;'></div>
                <script>
                    const map = L.map('map').setView([20, 0], 2);
                    //const tiles = L.tileLayer('https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}', {
                        //maxZoom: 20,
                        //attribution: 'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'
                    
                    const tiles = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
                        attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
                        maxZoom: 20
                    
                    }).addTo(map);

                    // define projects                            
                    var projects = {
                        "type":"FeatureCollection",
                        "name":"projloc",
                        "crs":{
                            "type":"name",
                            "properties":{
                                "name":"urn:ogc:def:crs:OGC:1.3:CRS84"
                            }
                        },
                        "features":[
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"Gold Candle Ltd.",
                                    "project":"Kerr-Addison Mine",
                                    "Country":"Canada",
                                    "State\/Province":"Ontario",
                                    "Nearest Town":"Virginiatown",
                                    "lat":48.137563,
                                    "long":-79.57929,
                                    "time":"March 2015 to Present",
                                    "description":"Property and regional-scale surface exploration programs",
                                    "img":"<img src=\".\/img\/projects\/a.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    -79.57929,
                                    48.137563
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"Almadex Minerals Ltd.",
                                    "project":"El Cobre porphyry gold deposit",
                                    "Country":"Mexico",
                                    "State\/Province":"Veracruz",
                                    "Nearest Town":"Tinajitas",
                                    "lat":19.61809,
                                    "long":-96.442478,
                                    "time":"April â€“ May 2018",
                                    "description":"Lithofacies classification and interpretation",
                                    "img":"<img src=\".\/img\/projects\/b.jpeg\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    -96.442478,
                                    19.61809
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"OceanaGold Corp.",
                                    "project":"Didipio porphyry gold-copper deposit",
                                    "Country":"Philippines",
                                    "State\/Province":"Nueva Vizcaya",
                                    "Nearest Town":"Didipio",
                                    "lat":16.3342,
                                    "long":121.4589,
                                    "time":"January 2017 and March-April 2015",
                                    "description":"Detailed drill core logging and interpretation of the Dinkidi breccia complex; including hydrothermal, volcanic, and intrusion-related breccias",
                                    "img":"<img src=\".\/img\/projects\/c.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    121.4589,
                                    16.3342
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"Newcrest Mining Ltd.",
                                    "project":"Seguela gold deposit",
                                    "Country":"Cote d'Ivoire",
                                    "State\/Province":"Worodougou Region",
                                    "Nearest Town":"Seguela",
                                    "lat":7.96,
                                    "long":-6.644,
                                    "time":"November 2016",
                                    "description":"Detailed and descriptive drill core logging and establishment of a geologic framework",
                                    "img":"<img src=\".\/img\/projects\/d.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    -6.644,
                                    7.96
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"Newcrest Mining Ltd.",
                                    "project":"Wailevu West (Mt. Kasi) epithermal gold deposit",
                                    "Country":"Fiji, Vanua Levu",
                                    "State\/Province":"Wailevu",
                                    "Nearest Town":"Savusavu",
                                    "lat":-16.76535,
                                    "long":179.02683,
                                    "time":"September to October 2014",
                                    "description":"Property-scale mapping, detailed rock library and field trip guide prepared for site geologists ",
                                    "img":"<img src=\".\/img\/projects\/h.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    179.02683,
                                    -16.76535
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"GoldFields Ltd.",
                                    "project":"Toodoggone Project",
                                    "Country":"Canada",
                                    "State\/Province":"British Columbia",
                                    "Nearest Town":"Mackenzie",
                                    "lat":57.130624,
                                    "long":-126.919844,
                                    "time":"August 2014",
                                    "description":"Prospecting program and assessment report writing",
                                    "img":"<img src=\".\/img\/projects\/f.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    -126.919844,
                                    57.130624
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"Durfeld Geological Management",
                                    "project":"RedGold deposit",
                                    "Country":"Canada",
                                    "State\/Province":"British Columbia",
                                    "Nearest Town":"Horsefly",
                                    "lat":52.33277,
                                    "long":-121.417299,
                                    "time":"January to February 2020",
                                    "description":"Compilation of trenching, drilling, geophysical, and geochemical data into a Leapfrog 3D geologic modelling for target generation",
                                    "img":"<img src=\".\/img\/projects\/g.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    -121.417299,
                                    52.33277
                                    ]
                                }
                            },
                            {
                                "type":"Feature",
                                "properties":{
                                    "client":"Kinross Minera Chile Ltda.",
                                    "project":"La Coipa epithermal gold-silver deposits",
                                    "Country":"Chile",
                                    "State\/Province":"Atacama",
                                    "Nearest Town":"Copiapo",
                                    "lat":-26.7,
                                    "long":-69.5,
                                    "time":"November 2015",
                                    "description":"Detailed drill core logging and mapping of hydrothermal and volcanic breccias to establish a functional breccia logging scheme",
                                    "img":"<img src=\".\/img\/projects\/e.JPG\">"
                                },
                                "geometry":{
                                    "type":"Point",
                                    "coordinates":[
                                    -69.519248932857366,
                                    -26.680610519133662
                                    ]
                                }
                            }
                        ]
                    } 
                    
                    // set marker style
                    var icon = L.icon({
                        iconUrl: 'img/icon.png',
                        shadowUrl: 'img/icon_shadow.png',
                        iconSize: [34,51],
                        shadowSize: [29,29],
                        iconAnchor: [17,51],
                        shadowAnchor: [0,29]

                    });

                    //set popup style
                    function forEachFeature(feature, layer) {
                        var popupContent = 
                            "<table style='text-align:center; vertical-align:middle'"+">"+                                        
                                "<tr><h3>"+feature.properties.client+"</h3></tr>"+
                                "<tr><h6>"+feature.properties.project+"</h6></tr>"+
                                "<tr><h6>"+feature.properties.time+"</h6></tr>"+
                            "</table>";
                            //"<tr>"+feature.properties.img+"</tr></table>"
                        layer.bindPopup(popupContent);
                        layer.on({
                            click: pan,
                            mouseover: bounce
                        });                               
                    }    
                        
                    // set center map on click
                    function pan(e) {                               
                        map.panTo(e.target.getLatLng());
                        // setView version with zoom
                        //map.setView(e.target.getLatLng(), 2);
                                                        
                    }

                    // set marker bounce
                    function bounce(e) {
                        e.target.bounce(1)
                    }                                                       
                                        
                    // create features    
                    feat = L.geoJSON(projects, {
                        onEachFeature: forEachFeature,
                        pointToLayer: function(feature,latlng){                                    
                            var featMarker = L.marker(latlng,{icon: icon});
                            feature.marker = featMarker;
                            return featMarker;
                            }
                    });

                    // fit bounds for setting initial zoom level across different devices
                    map.fitBounds(feat.getBounds());

                    feat.addTo(map);      
                    
                </script> 

</body>

</html>
